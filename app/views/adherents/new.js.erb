$("#modal-window").html("<%= escape_javascript(render 'new') %>");

// Résident et/ou supélec
activate_button();

// Tooltips
$("[rel='tooltip']").tooltip();

// Selects
$('#rooms-select').select2({
  placeholder: "Chambre"
});
$('#years-select').select2({
  placeholder: "Promotion"
});

$("form").on("ajax:success", function(event, data, status, xhr){
    $('#modal-window').modal('hide');
  });

// Functions
function activate_button() {
  $('.activable').children().click(function(){
    if ( $(this).hasClass('active') ){
      $(this).removeClass("btn-info active")
    } else {
      $(this).addClass("btn-info active");  
    };
    adherent_is_resident_or_supelec();
  });
};

function choose_button() {
  $(this).parent().children('.btn-info').addClass('disabled');
  $(this).parent().children('.btn-info').removeClass('btn-info');
  $(this).removeClass('disabled');
  $(this).addClass("btn-info");
};

function adherent_is_resident_or_supelec() {

  if( $("#resident-btn").hasClass("active")){
    console.log('1');
    $('#resident-check').attr('value', true);
    $('#resident-tab').show();
    $('#resident').children().show();
  } else {
    console.log('2');
    $('#resident-check').attr('value', false);
    $('#resident-tab').hide();
    $('#resident').children().hide();
  };


  if( $("#supelec-btn").hasClass("active")){
    console.log('3');
    $('#supelec-check').attr('value', true);
    $('#supelec-tab').show();
    $('#supelec').children().show();
  } else {
    console.log('4');
    $('#supelec-check').attr('value', false);
    $('#supelec-tab').hide();
    $('#supelec').children().hide();
  };

};